<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrador - SISU</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        .admin-header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        .home-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .home-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
            color: white;
            text-decoration: none;
        }
    </style>
</head>
<body>
<div class="admin-header">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 class="mb-1">üë®‚Äçüíº Painel do Administrador</h1>
                <p class="mb-0">Gerenciar Edi√ß√µes SISU</p>
            </div>
            <a href="/app/home/index" class="home-button">
                üè† P√°gina Inicial
            </a>
        </div>
    </div>
</div>

<div class="container">
    {% if session.flash %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ session.flash }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}
    
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Edi√ß√µes SISU</h2>
        <a href="/app/edicao/create" class="btn btn-primary">
            + Nova Edi√ß√£o
        </a>
    </div>
    
    <div class="alert alert-info">
        <h5>üöÄ Funcionalidades Dispon√≠veis</h5>
        <p class="mb-0">
            Clique em "Nova Edi√ß√£o" para criar uma edi√ß√£o com cursos aninhados.
            O sistema suporta a cria√ß√£o de edi√ß√µes com m√∫ltiplos cursos simultaneamente.
        </p>
    </div>
    
    {% if edicoes %}
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Ano/Semestre</th>
                        <th>Per√≠odo</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    {% for edicao in edicoes %}
                        <tr>
                            <td>{{ edicao.id }}</td>
                            <td>{{ edicao.nome }}</td>
                            <td>{{ edicao.ano }}.{{ edicao.semestre }}</td>
                            <td>{{ edicao.data_inicio }} a {{ edicao.data_fim }}</td>
                            <td>
                                <a href="/app/edicao/view?id={{ edicao.id }}" class="btn btn-sm btn-info"> Ver</a>
                                <form method="POST" action="/app/edicao/delete?id={{ edicao.id }}" style="display: inline;">
                                    <button type="submit" class="btn btn-sm btn-danger" 
                                            onclick="return confirm('Tem certeza que deseja excluir a edi√ß√£o {{ edicao.nome }}?\n\nEsta a√ß√£o n√£o pode ser desfeita e todos os cursos associados tamb√©m ser√£o removidos.')">
                                         Excluir
                                    </button>
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div class="card">
            <div class="card-body text-center">
                <h5>Nenhuma edi√ß√£o cadastrada</h5>
                <p class="text-muted">Comece criando sua primeira edi√ß√£o SISU com cursos.</p>
                <a href="/app/edicao/create" class="btn btn-primary">
                    Criar Primeira Edi√ß√£o
                </a>
            </div>
        </div>
    {% endif %}
</div>

<!-- Scripts Bootstrap -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
</html>
